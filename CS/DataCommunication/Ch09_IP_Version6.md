> [!NOTE]
>
> - Dynamic IP(동적 IP): 접속할 때마다 IP가 바뀜. 공인IP에 속함. IP가 바뀌니까 서버 구축은 안된다
> - (공유기를 사용한) 내부 IP: NAP(Network Address Translation; 네트워크 주소 결정). 내부에서만 사용하는 IP. 비공인IP.
> - IP는 컴퓨터의 주소를 지정하는 것. IPv4와 IPv6가 있음 v는 version을 의미.

<br />

# 01 IPv6 개요

IPv4: _ . _ . * . *라고 할 때 앞 3바이트는 네트워크, 뒤 1바이트는 호스트

## IPv4의 한계

- IP 주소 수요 증가로 → **주소 고갈 문제** 발생
- **Class 단위 주소 할당 방식**으로 인한 → **주소의 낭비**
- 다양한 서비스 제공, 보안 기술 등 **새로운 요구 사항 등장**

## IPv6의 등장

- 기존 IPv4의 32비트 주소길이를 **4배 확장한 128비트** 주소 길이를 사용
- **보안, 라우팅 효율성 문제**, ⭐ **QoS(Quality of Service) 보장**, 무선
- 인터넷 지원 등 다양한 기능들 제공

<br />

# 02 IPv6 특징 (5)

## 1️⃣ 확장된 주소 공간

- 128비트의 주소 공간
  - IPv4 주소 부족 문제를 해결할 수 있을 만큼의 주소공간
  - NAT(Network Address Translation)와 같은 **주소 변환 기술도 불**필요
- `유니캐스트(Unicast)`, `애니캐스트(Anycast)`, `멀티캐스트(Multicast)` 주소 형태
- 주소 자동 생성 기능을 지원
  - IPv4=**10진수** 표기, 8bit\*4=32bit
  - IPv6=**16진수** 표기, 16bit\*8=128bit

## 2️⃣ 새로운 헤더 포맷

- IPv4의 **일부 헤더 필드를 삭제하고 `확장 헤더`를 도입**
  - 패킷을 중계하는 라우터들의 부하를 줄임
- IPv4의 **가변길이 헤더를 고정 길이로 변경**
  - IPv4의 가변길이 패킷과의 호환을 위해 확장헤더 사용
- **패킷 단편화 관련 필드 삭제**
  - 라우터의 부담을 줄이고, 네트워크의 효율적 이용
  - 경로 MTU(Maximum Transmission Unit, 최대전송단위) 탐색 기능 사용
- 헤더의 **체크섬(checksum) 필드 삭제**

## 3️⃣ 향상된 서비스의 지원

- **응용 프로그램의 특정 서비스 품질(QoS) 요구**
  - 실시간 트래픽 및 비실시간 트래픽 구분
- **IPv6 헤더 내에 `플로우 레이블(Flow Label)` 필드 정의**
  - 트래픽 플로우에 대한 구분을 수행
  - 실시간 서비스 등과 같은 우선권을 주기 위해 → 특정 트래픽 플로우에 대한 라벨링

## 4️⃣ 보안 기능

- IPv6는 프로토콜 내에 **보안 관련 기능을 탑재**
  - ⭐ **IPSec(Internet Protocol Security)**
  - 보안과 관련된 인증 절차, 데이터 무결성 보호, 메시지의 발신지 확인 등 기능 제공
    - 데이터 무결성(Data Integrity): 시스템에 있는 데이터의 정확성, 완전성, 일관성
  - IPv6 **확장 헤더**를 이용해 **네트워크 계층에서의 종단간 암호화** 제공
  - InfoSec, IPSec (Security) 이라고도 함

## 5️⃣ 주소 자동설정

> [!NOTE]
> 네트워크를 1로 만들어주는 값 = subnet mask
>
> - 네트워크를 구분해줌
> - 네트워크 1111.1111.1111.0000 → 10진수로 표현하면 255.255.255.0
> - `/24` → prefix
> - CIRD: 클래스 없는 할당 방식

- LAN상의 **MAC(Medium Access Control) 주소**와 + (라우터가 제공하는) **네트워크 prefix**를 결합하여 → **IP 주소 자동설정**
- ✨ 시스템 관리나 설정에 필요한 **비용과 시간을 줄여줌**
- ✨ **사용자에게 편리함** 제공
  - ex. 이동형 컴퓨터에서 어느 곳에서든 네트워크와 연결을 하면 자동으로 포워딩 주소 설정

### 상태 보존형 자동설정 (Stateful auto-configuration): 상태 기반

- DHCP(Dynamic Host Configuration Protocol): 서버로부터 주소를 비롯한 **모든 네트워크 정보를 얻음**
- ✨ 주소의 **이용 효율성** 향상
- ✨ 호스트의 인증과정 등을 이용하여 **보안성 유지**
- 💩 서버의 **설치 및 구성**과 **관리가 복잡**
- 💩 **대규모의 데이터베이스**를 구축

### 비상태형 자동설정(Stateless auto-coniguration)

- **호스트 측에서 스스로 주소를 생성**
- 호스트가 자신의 인터페이스 정보와 라우터로부터 얻은 네트워크 프리픽스 정보 또는 well-known 프리픽스 정보를 이용하여 **자체적으로 IPv6 주소 생성**
- ✨ 특별한 **서버가 필요 없음**
- 💩 이용 권한 없는 호스트의 접근 등으로 인한 **보안 관련 문제**
