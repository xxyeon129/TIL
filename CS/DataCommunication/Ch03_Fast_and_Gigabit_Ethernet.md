# Ch03: Fast & Gigabit Ethernet

> [!NOTE]
> 전송 속도의 가장 기본은 bit per sec (10^3 kbps → 10^6 kbps → 10^9 Gbps)

# 01 LAN 스위치의 개요

## 기존의 공유매체 기반 LAN의 문제점

- 공유매체 기반 LAN: 과거 LAN 환경에서는 여러 노드(컴퓨터나 네트워크 장비)가 하나의 전송매체(ex. 이더넷 케이블)를 공유하여 데이터를 주고받았다.
- **충돌 문제:** 여러 노드가 동시에 데이터를 전송하려고 하면 충돌이 발생
- **실시간 전송, 대용량 데이터 전송의 한계:** 실시간 데이터(화상 회의, 음성 통화)나 대용량 데이터 전송에는 충돌 문제가 더 심각해져 기존의 공유매체 방식은 적절하지 않았다.

## LAN 스위칭

LAN 스위칭: 각각의 LAN segment를 스위치의 포트에 연결하여 동작하는 방식

(\*LAN segment: 네트워크를 물리적/논리적으로 나눈 한 부분. 각 segment는 자체적인 통신을 담당)

- **독립적인 LAN segment:**
  - LAN 스위칭 환경에는 각 segment가 독립적으로 동작
  - 하나의 LAN segment에서 발생한 데이터 충돌이 다른 segment에 영향을 미치지 않기 때문에 → 충돌 도메인이 축소됨
- 스위치의 처리 속도는 기존의 브리지나 라우터보다 성능이 좋다.
- ASIC(Application Specific Integrated Circuit, 주문형 반도체) 기술의 발전으로 스위칭을 CPU가 아닌, ASIC라는 하드웨어가 수행하게 함으로써 → 스위칭 속도를 크게 향상시킬 수 있었다.

> [!NOTE]
>
> - IC(Integrated Circuit): 집적 회로
> - ASIC: 어플리케이션이 지정된 집적 회로. 스위칭을 빨리 할 수 있는 반도체
> - 교통 상황을 통제하여 빠른 속도로 자동차가 이동하듯, 어플리케이션을 지정해 스위칭 속도를 향상시킴

## 충돌 도메인과 브로드캐스트 도메인(Broadcast Domain)

- 2계층은 segment 내의 통신을 담당하고, segment 범위 안은 허브나 스위치로 분리한다.
- **허브**는 CSMA/CD를 통해 충돌을 처리
  - CSMA/CD(Carrier Sense Multiple Access with Collision Detection): 여러 장치가 동시에 데이터를 전송하려고 할 때 충돌이 발생할 수 있는데, 허브는 충돌 발생 시 이를 감지하고 데이터를 다시 전송하는 방식으로 충돌을 처리
- **스위치**는 충돌을 미연에 방지하기 위해 `MAC 주소 필터링`과 `버퍼링`을 사용
  - MAC 주소 필터링: 도메인 안에 같은 MAC 주소(네트워크 인터페이스의 고유 주소)가 있으면 피해가서 충돌 방지
  - 버퍼링: 데이터가 전송되기 전에 임시 저장공간(버퍼)에 저장하고, 필요할 때 전송해서 충돌 방지
- **충돌 도메인:** 데이터 충돌이 일어날 수 있는 범위(허브나 스위치가 구분자)
- **브로드캐스트 도메인:** 네트워크 내에서 브로드캐스트 패킷(모든 장치에 전송되는 데이터)이 도달할 수 있는 범위 (라우터가 구분자)
  - 라우터: 브로드캐스트 도메인을 나누는 장치로, 네트워크를 구분지어 브로드캐스트가 다른 네트워크로 전파되지 않도록 함

<br />

# 02 공유 LAN과 스위칭 LAN

- 반 이중 방식 (Half Duplex Mode)
  - 양방향으로 데이터가 전송될 수 있으나, 동시에 전송하는 것은 불가능한 방식
  - 한 번에 한쪽 방향으로만 데이터 전송이 가능한 단방향 통신 방식
  - 교대로 송수신 → ex. 무전기, 워키토키
- 전 이중 방식 (Full Duplex Mode)
  - 하나의 전송 선로에서 데이터가 동시에 양 방향으로 전송될 수 있는 방식으로 충돌이 발생하지 않는다.

<br />

# 03 Switch

## ✅ 스위치의 종류

### 응용 방법에 의한 구분

- **대칭 스위치:** 동일 대역폭을 가진 LAN 세그먼트에 대한 스위칭
- **비대칭 스위치:** 다른 대역폭을 가진 LAN 세그먼트에 대한 스위칭

### OSI 참조모델에 의한 구분

- **Layer 2 Switch(2계층 스위치) - Data link layer**
  - 데이터 링크 계층에서는 물리적인 장치의 MAC 주소를 사용해 데이터를 전달함
- 스위치에 연결된 장치들의 **MAC 주소를 학습**하여 이 정보를 바탕으로 **스위칭 테이블**을 생성, 갱신
- 스위치는 스위칭 테이블을 참고하여 출발한 데이터를 적합한 경로로 전달(스위칭)
- **Layer 3 Switch(3계층 스위치) - Network layer**
  - 네트워크 계층에서는 IP 주소를 사용해 데이터 경로를 결정
- **IP 주소 기반 스위칭:** IP 주소를 사용해 네트워크를 구분, 각 네트워크 간의 데이터를 전달할 수 있는 최적의 경로를 찾아 스위칭
- **IP 주소표기법(CIDR**: Classless Inter-Domain Routing): IP주소 영역을 여러 네트워크 영역으로 나눌 때 사용하는 방식
  - `1.1.1.1/24`는 앞의 24비트가 네트워크 주소를 나타내고, 나머지 8비트가 호스트 주소를 나타냄
  - subnet bit를 1로 표기: `1.1.1.1/24` - 앞 24자리는 1, 나머지 8자리는 0)
- subnet mask 표기법: `1.1.1.1(255.255.255.255)`

> [!TIP]
> trace route 스마트폰 앱으로 라우터 연결을 확인하고 추적해볼 수 있음.

- **Layer 4 Switch(4계층 스위치) - Transport layer**

- 전송 계층은 TCP(Transmission Control Protocol)나 UDP(User Datagram Protocol)과 같은 프로토콜을 사용해 데이터 전송을 관리
- TCP나 UDP 등의 헤더에 포함된 **포트 번호를 기준**으로 해당 **패킷을 전달할 경로 설정**
- L4 스위치의 특징

  - Transparent service: 사용자가 의식하지 못하게 자동으로 동작한다
  - Appliance Server: 특정 목적에 최적의 성능을 낼 수 있도록 / 하드웨어, 운영체제, 소프트웨어가 모두 설치된 상태로 제공되는 서버 (사용자는 추가설정 없이 바로 사용할 수 있음)

-

## ✅ 스위치의 동작

주로 2계층(Data Link Layer)에서 MAC 주소를 기반으로 데이터를 전달

이를 통해 LAN 내에서 데이터 프레임을 중계하는 역할을 수행

### 스위치의 구성 요소

전송 로직, 입출력 포트로 구성

- **전송 로직:** 스위치의 내부에서 **데이터를 전달하는 규칙**을 정하는 부분
- **입출력 포트:** 네트워크 장비와 연결되는 물리적 포트로, 데이터를 **송수신**
  - LAN 또는 WAN과 연결할 수 있음
  - LAN 스위치는 2계층(Data Link Layer) 상에서 여러 개의 네트워크 연결 시 사용
  - LAN 스위치에는 많은 종류의 물리적 인터페이스가 존재하게 되는데, / **입출력 포트**는 다양한 물리적 인터페이스에 상관 없이 / **기본적인 스위치의 전송 로직을 바꾸지 않아도 된다.**
  - **`액세스(access) 포트`**: **LAN** 상에 있는 각 **호스트를** **연결하기 위해** 사용하는 **물리적인 인터페이스**
  - **`네트워크 업 링크(Network Uplink) 포트`**: 한 스위치가 다른 스위치와 연결할 때 사용하는 포트

### 스패닝 트리 알고리즘(Spanning Tree Algorithm)

루핑을 방지하기 위해 **유일한 경로**만 남기고 나머지 경로는 **차단**하는 알고리즘

- Spanning Tree:
  - 모든 노드가 연결되어 있지만, 노드 간 경로는 오직 하나만 존재하여 루프가 없는 최소 연결 네트워크를 형성
  - 노드들을 최소한의 연결(가장 적은 수의 간선)로 연결하여 루프를 방지
- Spanning Tree Algorithm
  - 스위치나 브리지에서 looping 발생을 방지
  - 여러 경로가 존재할 때 하나의 경로만 활성화하고 나머지 경로는 차단
  - 기존 경로에 장애가 발생하면, 차단해둔 경로를 활성화해 네트워크 연결을 유지

### BPDU(Bridge Protocol Data Unit) 패킷 교환

각 브리지(스위치)는 1~10초 간격으로 BPDU(bridge Protocol Data Unit) 패킷 교환하여 **링크 상태 정보를 공유**

→ 이를 통해 스패닝 트리 알고리즘이 네트워크 토폴로지의 변경을 감지하고, looping 없는 구조를 유지할 수 있게 함

## ✅ 스위치의 전송 로직

### 필터/전송 로직 (Forwarding, Flooding)

- 스위치에 수신되는 모든 프레임의 목적지 주소를 확인하고, 이를 기반으로 행동
- 수신한 프레임의 **목적지 주소를 `전송 로직`에서 검사**하고, **목적지 주소가 송신지 주소 테이블에 존재하는지 확인**
  - 목적지 주소가 송신지 주소 테이블에 존재하지만 & 주소의 위치가 수신 포트가 아닌 다른 포트라면 → 해당 포트로 프레임을 전송
  - 송신지 주소 테이블의 목적지가 == 현재 프레임을 수신한 포트와 같다면 → 해당 프레임은 폐기함으로 `필터링`
  - 송신지 주소 테이블이 목적지 주소에 대한 정보가 없다면 → 스위치는 해당 프레임을 모든 포트로 전송(`플러딩(flooding)`)시킨다.

### 학습 로직 (Learning)

**MAC 주소와 위치 정보 수집:**

- 스위치는 네트워크의 스테이션(호스트)들이 사용하는 MAC 주소, 송신지 주소 테이블의 위치 정보를 학습
  - 스위치가 초기화됐을 때는 어떤 MAC 주소도 알고 있지 않다.

**주소 테이블 업데이트:**

- 호스트들의 **MAC 주소와 송신지 위치 정보를 수집**하여, 새로운 MAC 주소와 해당 포트를 송신지 주소 테이블에 업데이트 → 이러한 학습은 (수신한 각 프레임이 전송되든 폐기되든 상관 없이) **수신될 때마다 수행**됨
- 이미 존재하는 엔트리의 경우, 경과시간 타이머를 갱신

### 송신지 MAC 주소 테이블

**프레임 흐름 제어:**

- LAN 스위치는 / 송신지 MAC 주소 테이블을 기반으로 / 프레임을 어디로 전송할지 결정함
  - 송신지 MAC 주소 테이블은 **`학습로직`에 의해 갱신**되며, `필터/전송 로직`에 의해 수신한 프레임 전송을 결정하기 위해 사용됨
- 테이블은 **MAC 주소 목록**과 (해당 MAC 프레임을 수신한) **최근 포트 정보**로 구성
  - 네트워크 구성 시 송신지 주소 테이블은 빈 상태이며, / 프레임을 스위치가 수신하면 → 스위치는 송신지 MAC 주소와 해당 포트번호를 송신지 주소 테이블에 추가한다. 이러한 방식으로 각 호스트의 MAC 주소와 포트를 송신 주소 테이블에 추가하여 완성한다.

**타이머:**

- 테이블 내의 엔트리들은 / MAC 주소 정보가 **언제 폐기될 것인가를 결정하는 경과 시간 타이머**를 가지고 있음

**제한된 크기:**

- 스위치 내의 송신지 주소 테이블의 크기는 제한적 → 하나의 LAN 스위치가 담당할 수 있는 MAC 주소의 수는 제한적

---

### 포트 인터페이스

물리적인 포트의 논리적인 인터페이스

- 1계층(물리층)과 2계층(Data Link Layer)의 기능을 모두 수행
- 1계층의 정보를 → 2계층의 MAC 프레임으로 변환

## ✅ 스위칭 방법에 따른 스위치 분류

### ✔️ Cut-Through 스위치

- (전체 프레임을 모두 받기 전에) **프레임의 송신지, 수신지 주소를 얻기 위해 / 프레임의 첫 번째 몇 바이트만을 읽고 / 목적지 MAC 주소만 확인**하는 전송 방식
- 오늘날 대부분의 스위칭 방식
- ✨ 빠른 전송 속도, 짧은 지연 시간 → 전송 지연 최소화
- 💩 전송 효율은 떨어짐

### ✔️ Interim Cut-Through 스위치(중간) = Fragment-free 스위치

- **프레임의 64바이트 정보만 확인**하여 → **충돌 여부를 확인**하는 방식
  - 최소 이더넷 프레임 길이가 64바이트이기 때문에, 64바이트 정보를 확인함으로써 충돌 여부 검사
- Cut-Through 스위치의 단점을 보완한 중간 방식
- ✨런트(runt) 프레임(너무 작은 프레임)이 네트워크에 전송되는 것을 방지

### ✔️ Store-and-Forward 스위치

**전체 프레임을 스위치가 수신**한 후, **에러 여부를 검사**하고 전송을 결정하는 방식

- 스위치에 유입된 **모든 프레임**에 대해 **`CRC(순환중복검사) 값`**과 **`FCS(Frame Check Sequence; 프레임 순서 체크)`을 비교**해 **에러 여부를 확인**하는 방식
- 스위치가 프레임을 전송하기 전에 / **전체 프레임을 수신**하는 방식으로 / 기존의 브리지와 거의 같은 방식으로 스위칭

## ✅ 스위치의 구조

### ✔️ 크로스바(Cross-bar) 구조

- **점-대-점 연결을 최적화**하기 위해 설계된 구조
- 여러 개의 **입력선과 출력선을 교차**시키는 형태 → 입력과 출력이 **만나는 지점에서 스위칭**이 이루어짐
- 여러 개의 도로가 하나의 교차로를 지나는 형태와 유사
- 입력선 개수 m, 출력선 개수 n일 때, (m \* n)개의 연결점이 필요
- (m + n - 1)개의 제어소자로 스위치 역할 수행

### ✔️ 공유 메모리(Share memory) 구조

스위치의 모든 **입력 버퍼들이 하나의 중앙 메모리**에 있는 구조

### ✔️ 고속버스(High-speed Bus) 구조

- 스위칭 ASIC 칩(주문형 반도체)들 사이에 **고속의 데이터 버스가 연결**되어 있는 구조
  - ASIC(Application Specific Integrated Circuit): 주문형 반도체. 스위칭 ASIC 칩들 사이의 고속의 데이터버스와 연결되어 최대 속도 전송 가능
  - 데이터 버스는 각 포트의 **최대 전송 속도를 동시에 처리**할 수 있도록 설계되었음 → 각 포트가 독립적으로 최대 속도로 데이터를 처리할 수 있음
  - 여러 포트가 동시에 데이터를 전송해도 **병목 현상이 발생하지 않음**
- **`Non-blocking 스위치`**: 여러 포트가 동시에 데이터를 전송해도 데이터 경로가 막히지 않음

<br />

# 04 고속 이더넷 (Fast Ethernet)

## ✅ 개요

- **기존 이더넷의 전송 속도를 향상**시키기 위해 나타난 기술
- 기존 이더넷 프로토콜을 사용하여 데이터 전송 속도를 **100Mbps로 향상시킨 이더넷** 표준의 확장
- 최소 **프레임 길이(64바이트)는** 기존의 이더넷과 **동일**하고 / **최대 케이블의 길이를 줄임**으로써 전송 속도를 향상시킨 것(10BaseT: 2800m(리피터 4개 포함), 100BaseTX(RJ45): 200m)
- 목표는 기존의 CSMA/CD 프로토콜을 사용하면서 + **이더넷의 대역폭을 증가**시키는 것(10Base와 100BaseT를 스위치를 통하여 서로 연결할 수 있는 호환성을 제공)
- 기존의 LAN 선로 구성과 MAC 프로토콜을 그대로 사용하면서 → 전송 거리를 줄여 **100Mbps 속도** 제공

## ✅ 구조

### ✔️ Convergence Sublayer(CS) 수렴 부계층

다른 전송매체를 이용해 높은 전송 속도로 전송하기 위한 / MAC 계층과 Physical Medium Dependent;PMD Sublayer **사이의 인터페이스** 제공

### ✔️ Media Independent Interface(MII)

**CS(Convergence Sublayer)와 PMD(Physical Medium Dependen) 사이의 인터페이스**

- **다양한 규격의 매체와 연결**할 수 있는 미디어 어댑터(트랜시버)
- 장비와 매체의 설치 비용 절감, 효율적인 매체 연결을 할 수 있는 **공통 커넥터**(매체 독립 인터페이스)

## ✅ 특징 및 응용

- **네트워크의 수용 범위:** 네트워킹 장비(리피터, 스위치, 브리지 등)로 연결된 두 종단 스테이션 사이의 거리
- **전파 지연:** 전송 시간과 신호 수신 시간 사이의 차
  - 전송 매체를 통해 A지점에서 B지점까지 1비트가 전달되는데 소요되는 시간
  - Delay = 거리(Distance) / 전파속도(Propagation Speed)
  - 네트워크 내에서 **전파 지연은 비트 타임(Bit Time)으로 측정**됨
- 네트워크 수용범위 측정 시 → 네트워크 전체 구성요소들의 전파 지연의 합은 > **512비트 타임보다 적어야** 함

<br />

# 05 기가 비트 이더넷 (Gigabit Ethernet)

## ✅ 기가비트 이더넷 등장 배경

- 1994년 100Mbps를 지원하는 고속 이더넷이 등장하고 사용 **인터넷 사용자가 급격히 증가**
- 서버 또는 데스크탑 간의 100Base-T 기술을 이용한 네트워크 기술로 **대용량 파일(동영상 등) 전송이 증가**했고, 데이터웨어 하우스의 보급은 수 기가바이트에 이르는 대역폭을 지원하는 **고속 네트워크 기술이 필요**하게 됨.
- **기존 네트워크와의 호환성, 네트워크 유지 보수 용이성, 저비용 등의 특성을 만족해야** 함
- **멀티미디어 데이터**가 많이 활성화되면서 **네트워크 애플리케이션에 대한 서비스 품질(QoS: Quality of Service) 충족해야** 함
- 1995년 대역폭 1Gbps 고속 이더넷 표준화

## ✅ 기가비트 이더넷 표준화

**표준화된 물리층 규격:** ANSI NCITS T11(구 ANSI X3T11) **파이버 채널(Fiber Channel) 규격**

- 예) FC-1(파이버 채널-1): 8B/10B 부호화/복호화
  - 8B/10B: 8비트 워드를 10비트 심볼에 매핑하여 만든 라인 코드로, 8비트를 전송하기 위해서 10비트가 필요(파이버 채널에 적용되는 인코딩 기술)
  - FC-0(파이버 채널-0): 전송매체, 커넥터, 신호방식 등

> [!NOTE]
>
> **이더넷의 종류**
>
> - 10BASE-T: 10Mbps 속도 이더넷 (초기 유선 네트워크에 사용)
> - 100BASE-TX (패스트 이더넷): 100Mbps 속도 이더넷 (일반 가정용, 소규모 사무실 네트워크)
> - 1000BASE-T (기가비트 이더넷): 1Gbps 속도 이더넷 (현재 많은 네트워크 표준)
> - 10GBASE-T: 10Gbps 속도 이더넷 (대규모 데이터 센터, 고속 네트워크 환경)

### ✔️ 3가지 1000BASE-X 표준화

- **1000Base-SX(S: Short Wavelength):** 멀티모드 광섬유 상에서 **단파장 레이저**를 사용하여 송수신
  - 단거리 통신에 사용
- **1000Base-LX(L: Long Wavelength):** 멀티모드/싱글모드 광섬유 상에서 **장파장 레이저**를 사용하여 송수신
  - 장거리 통신에 사용
- **1000Base-CX (C: Coax):** 2심 동축 케이블을 사용하는 **단거리 접속용 구리선 방식**
  - 짧은 연결이 필요한 스위칭 장치에 사용

### ✔️ 1000BASE-T 표준화

- 기가비트 이더넷을 구리선으로 제공하는 방식 → 가정, 사무실 LAN 환경에서 주로 사용
- **카테고리 5 UTP 케이블**(최대 100m) 사용
- 통신 부하 분산을 위해 4쌍을 사용
- IEEE 802.3ab 태스크 포스에서 표준화

## ✅ 기가비트 이더넷 특징

- 새로운 네트워크 구축 시 가장 중요한 고려 사항은 **기존 네트워크와의 호환성을 유지**하는 것
  - **10BASE-T, 100BASE-T 이더넷 기술과 호환성 제공**
  - **기존 10Mbps 이더넷 프레임을 그대로 사용**하기 때문에 → 다른 네트워크와 상호 운영 시 **프레임 변환이 필요 없어 높은 성능을 유지**할 수 있음
  - 기존의 10Mbps 이더넷 장치를 (고속 기가비트 이더넷 장치인) 스위치나 라우터 등에 접속시키기 위해서는 → 단지 물리적 속도만 맞춰주면(정합시켜주면) 됨
    - 이유: 두 방식 모두 가변 길이(64~1518바이트)의 프레임 포맷을 사용하기 때문
    - **프레임 포맷과 크기가 / 모든 이더넷 네트워크에서 동일**하므로 → **다른 고속 이더넷과 연동 시 프레임 포맷 변환이 필요 없다**. (다른 네트워크인 ATM 방식은 ATM 셀과 이더넷 프레임 간의 변환기능을 수행해야 함)
  - 기가비트 이더넷 네트워크 관리는 **예전의 네트워크 관리 객체를 그대로 적용**
    - SNMP(Simple Network Management Protocol): 각 장치들의 이더넷 정보를 수집하기 위한 프로토콜
      - 송수신 패킷 수, 에러율, 충돌횟수 등 통계 정보를 기록하기 위한 동일한 MIB(Management Information Base)와 부가적인 정보는 네트워크 애플리케이션을 통한 통계를 위해 RMON(Remote Network Monitoring) 에이전트를 사용하여 수집
- 두 개의 노드가 **전이중 통신방식으로 연결되어 있는 경우** → 기가비트 이더넷은 IEEE 802.3x 규격의 표준을 채택하고 → 네트워크 과부하 방지를 위해서 **CSMA/CD 방식**을 사용
  - 고속 기가 비트 이더넷의 CSMA/CD 방식은 기가비트 속도의 네트워크에서 200m 범위 내 충돌현상을 관리하기 위해서 사용되며, / 송신 호스트가 충돌을 감지하기 전에 최소크기 이더넷 프레임을 송신하는 것을 방지하기 위함
- **충돌 감지를 효율적으로** 하기 위해 **최소 이더넷 프레임 크기**를 **64바이트에서 → 512바이트로 확장**했으며, 최소 이더넷 프레임 길이가 512바이트보다 짧은 프레임은 **캐리어 확장**(Carrier Extension)을 하여 크기를 맞춘다.
  - **`캐리어 확장`**: 최소 캐리어 슬롯 타임을 기존 64바이트 타임 → 512바이트 타임으로 확장
    - 송신 측에서 일종의 패딩을 주고, 수신 측에서는 이를 무시
  - 프레임 크기의 증가로 **512바이트 미만 짧은 프레임의 전송 시 성능 저하를 방지**하기 위해 **패킷 버스팅**(Packet Bursting)(프레임 버스팅) **방법을 CSMA/CD에 반영**
  - ⭐ **`패킷 버스팅(Packet Bursting)(프레임 버스팅)`**: 여러 개의 **짧은 프레임을 모아서 한꺼번에 송수신할 수 있도록** 하는 기법
  - 반이중 전송 방식에서 캐리어 확장은 반드시 구현되어야 하지만, 프레임 버스팅은 선택 사항

## ✅ 기가비트 이더넷 구조

### ✔️ 기가비트 이더넷의 계층별 구조

- GMII(Gigabit Media Independence Interface; 기가비트 매체 독립 인터페이스)
  - 물리계층에서 사용되는 매체의 종류와 관계 없이, MAC 부계층에서 이더넷 프레임을 처리할 수 있게 하는 공통의 인터페이스 제공
- 기가비트 이더넷에서 CSMA/CD를 지원하는 MAC 계층은 강화되었지만, **데이터링크 계층은 그대로 사용됨**
- RS(Reconciliation Sublayer; 조정 부계층): MAC 부계층과 물리적 부계층 간 신호 매칭을 위한 조정 기능
- 물리 계층
  - **PCS(Physical Coding Sublayer):** 전송속도별 적절한 선로 부호화 수행
  - **PMA(Physical Medium Attachment):** PCS 부호화 신호를 실제 물리 신호로 변환하여 PMD에 전달하는 역할
  - **PMD(Physical Medium Dependent Sublayer):** 실제 물리매체에 적합한 물리 신호를 만들어 송수신
- MDI (Medium Dependent Interface; 매체 의존 인터페이스)
  - 물리매체의 실제 접속부(인터페이스)
  - LAN 카드에서 사용하는 매체에 따라 달라지는(의존하는) 인터페이스

### ✔️ 기가비트 이더넷의 구성

**[고속 이더넷에서 변경된 내용]**

- MAC 계층과 물리 계층 인터페이스 MII → **GMII로 변경**
  - MII(Medium Independent Interface; 매체 비의존 인터페이스): 다른 LAN 물리계층 매체들에 의존하지 않도록 하는 인터페이스
  - GMII(Gigabit Media Independent Interface; 기가비트 매체 비의존 인터페이스): 기가비트 이더넷에서 MAC 부계층 및 물리계층 간 존재하는 공통적인 논리 인터페이스
- 고속이더넷 **4B/5B 방식 → 8B/10B 부호화/복호화 방식 사용**
  - **부호화 방식의 필요성: 전송 속도가 고속화됨에 따라 간섭 문제나 신호 손실 증가에 의한 신호 대 잡음비(S/N비) 저하 문제 발생**
  - 직류 성분을 포함한 전송부호는 수신측에서 정확하게 재생하기 어려움
  - 8B/10B 부호화: 상위층의 MAC 계층으로부터 입력되는 8비트 데이터를 → 하나의 니블(nibble)로 취급해 → 각 니블을 물리 층에서 10비트 부호로 변환
  - 8비트 데이터를 → 10비트 부호로 변환하면서 / 남는 부호 여분을 제어부호로 활용
  - 신호 전송 시 클럭 재생을 위한 전송 밀도 확보
- MAC층과 LLC층 사이에 선택사항으로 MAC 제어 계층이 존재(전이중 통신 수행 시 흐름 제어)

> [!NOTE]
>
> - 잡음비가 올라가면 신호가 떨어지고 노이즈가 생김 → 전달이 잘 안되는 문제가 생긴다. 직류 신호를 보내는 건 DC(Direct Current)라고 함. 시간에 따라 전압이 일정한 게 직류.
> - 교류 신호(AC; Alternating Current; 반복적인 신호)는 Sign wave를 그림 → +됐다가 -됐다가 반복함.
> - 직류 전압을 송수신 사이에 사용했다. 10볼트를 보냈다 치면 직류로 보냈다 중간에 교류로 변조해주면(부호화) 멀리까지 전송 가능. 교류인걸 다시 직류로 변경하는걸 복호화. 전송 효율을 올리기 위함.
> - 클럭 주파수 → 컴퓨터, 전자회로의 심장. 모든 신호는 클럭 신호에 기본을 삼아서 간다. 모든 것의 동기 신호.

### ✔️ 러닝 디스패리티(RD; Running Disparity)

- 직전 송신 부호값에 근거해 러닝 디스패리티 값(RD값)을 결정하고, 이 값에 따라 다음에 송신할 부호의 RD값을 바꾸는 에러검출방법
- 예측과 다른 RD값을 갖는 부호를 수신할 경우 → 송신 에러로 판단

<br />

# 06 10기가 비트 이더넷 (10G Gigabit Ethernet)

## ✅ 10기가비트 이더넷 등장 배경

- 서버의 지속적인 성능 향상, 고성능의 SSD 장착, 가상화 솔루션 도입, 클라우드와 빅데이터 등의 업무 적용으로 **대역폭의 요구 증가**
- 저비용으로 구축이 가능하고, 유지보수 및 관리가 가능한 10GbE/40GbE/100GbE/200GbE/400GbE/800GbE 등의 솔루션 등장 (2024.10. 현재 최고속도는 1.6TbE)

> [!NOTE]
>
> 1GbE, 10GbE을 가장 많이 사용한다.
>
> 800GbE 이런건 Data Center(IDC)에서 사용.

## ✅ 10기가비트 이더넷 특징

- **전이중 방식만 지원**하도록 정의
- 전송 속도를 지원하기 위해 **광케이블과 동축케이블 사용하도록 권장**
- 기존 이더넷과의 호환을 위해 8B/10B, **SONET/SDH**과의 호환을 위해 15B/16B 등의 인코딩 기술 지원
    - SONET(Synchronous Optical Network): 동기식 광통신망
    - SDH(Synchronous Digital Hierachy): 동기식 디지털 계층
- **`파장분할 다중화방식`(WDM; Wavelength Division Multiplexing)**
    - 1️⃣ **다중화:** 여러 파장 대역을 통해 여러 데이터를 동시에 전송하는 광 다중화방식
    - 여러 개의 파장(광신호)을 하나의 광섬유로 결합해 동시에 전달하고, / 수신 측에서 다시 각각의 파장으로 분리하여 원래의 데이터를 추출
    - **2️⃣ 투명성:** 서로 다른 전송률, 프로토콜을 가진 여러 채널을 동시에 전송 가능
    - 3️⃣ **네트워크 구성 용이:** 전기적 신호 처리가 아닌, 광섬유로 분기하는 방식 → 데이터처리나 신호 변환은 하지 않음
    - 4️⃣ **확장성:** 40GB 이상 전송용량 확장해 수용 가능
    - 5️⃣ **장거리 통신:** 중장거리 통신에 주로 활용

## ✅ 10기가비트 이더넷 구조

- MAC 계층: 페이싱 매커니즘 사용
- 물리계층: 10GMII가 MAC 계층과 물리계층 간 인터페이스 제공

## ✅ 오류 정정 코드(Error Correction Code)

### ✔️ FEC(Forward Error Correction) 순방향 오류제어(전진 에러 수정)

**송신측이 전송할 프레임에 부가적 정보를 첨가해 전송하고, → 수신측이 에러 발견 시 부가적 정보로 에러검출/정정하는 방식**

- 적합한 상황
    - 송신측이 한 곳이고 수신측이 여러 곳일 때 적합 → 재전송 피드백이 어려운 곳
    - 채널 환경이 열악한 곳
    - 높은 신뢰성이 요구되는 곳
- 실시간 처리, 높은 처리율 제공(오류가 발생해도 재전송 요구 없이 오류수정 가능)

### ✔️ BEC(Backward Error Correction) 역방향 오류제어(후진 에러 수정)

**수신측이 에러검출만 하고, 송신측에 재전송을 요구하는 방식**

- 송신측이 에러 검출이 가능한 부가적인 정보를 메세지에 첨가시켜 전송하고, 수신측이 이를 토대로 에러 발견 시 재전송을 송신측에 요구
- 재전송 기반 에러 제어
    - Stop and Wait: 한 번에 하나씩 긍정 확인응답 받고, 후속데이터 전송
    - Go Back N: 오류 발생 프레임 이후 모두 재전송 요청
    - Selective Repeat: 오류가 발생한 프레임만 재전송 요청
    - Adaptive ARQ: ARQ 횟수를 줄여(프레임 길이 동적 변경) 전송 효율 높임

### FEC vs BEC

- FEC: 수신측이 에러 자체 정정
- BEC: 에러 발생 데이터에 대해 송신측에 재전송을 요구

> [!NOTE]
>
> MUX: 다중화기, DEMUX: 복호화기
>
> MUX에서 광파이프를 통해 파장을 보내면 DEMUX에서 파장대별로 분리(분할)함