# 01 관계 대수(집합, 관계, 확장) 연산

## 관계 대수(relational algebra)

- **릴레이션을 내부적으로 처리하기 위한 연산(operation)**들의 집합
    - 관계형 데이터 모델의 이론적 언어
    - SQL DB 언어의 이론적 토대 제공
- **릴레이션**에 적용되는 여러 연산들을 포함
    - 모든 연산의 적용 대상도 릴레이션이고, 연산 결과도 릴레이션임
    - 한 개 이상의 입력 릴레이션으로부터 → 하나의 새로운 결과 릴레이션 생성
- **관계 대수 연산의 종류**
    - 집합 연산(합집합, 교집합, 차집합, 카티션 프로덕트)
    - 관계 연산(셀렉트, 프로젝트, 조인, 디비전)

## ✅ 집합 연산(set operation)

- 릴레이션을 투플 집합 또는 속성 집합으로 간주해 이를 처리하는 연산 그룹
- 일반적인 수학의 집합 연산과 의미, 기능이 같음
- 합집합, 교집합, 차집합 연산: **두 입력 릴레이션 조건 만족 시 합병 가능**
    - 두 릴레이션의 차수(속성 개수)가 같음
    - 대응하는 속성의 순서, 도메인이 같음
    - 속성 이름은 서로 달라도 됨(결과 릴레이션 속성 이름은 첫번째 릴레이션)

### 합집합(union)

두 개의 릴레이션을 합병해 하나의 릴레이션을 반환

릴레이션 R1 또는 R2에 속하는 모든 투플들로 구성된 릴레이션

### 교집합(intersect)

두 개의 릴레이션 동시에 속하는 공통 투플로만 구성된 릴레이션

### 차집합(difference)

첫 번째 릴레이션에 속하지만 두 번째 릴레이션에 속하지 않는 투플로만 구성된 릴레이션

### 카티션 프로덕트(cartesian product)

두 릴레이션의 **모든 투플을 수평으로 결합**하는 연산

**R1과 R2 투플들의 모든 조합**으로 구성된 결과 릴레이션을 반환

- 두 릴레이션의 기계적인 조합을 만들기 때문에, 그 자체보다는 추가적으로 다른 관계대수 연산을 조합할 때 유용함

| 적용 연산 | 구분 | 결과 릴레이션의 값 |
| --- | --- | --- |
| 합집합 | 차수 | R1 또는 R2 차수와 같다 |
|  | 카디널리티 | R1과 R2 카디널리티를 더한 값과 같거나 적다 |
| 교집합 | 차수 | R1 또는 R2 차수와 같다 |
|  | 카디널리티 | R1(카디널리티 값이 R1<R2인 경우) 혹은 R2(카디널리티 값이 R2<R1인 경우) 카디널리티 값보다 작거나 같다 |
| 차집합 | 차수 | R1 또는 R2 차수와 같다 |
|  | 카디널리티 | R1(R1-R2인 경우) 또는 R2(R2-R1) 카디널리티 값보다 작거나 같다 |
| 카티션 프로덕트 | 차수 | R1과 R2 차수를 더한 값과 같다 |
|  | 카디널리티 | R1과 R2 카디널리티를 곱한 값과 같다 |

<br />

## ✅ 관계 연산(relation operation)